"use strict";(function(){function n(t){var n=function r(n){return n&&e.Initial.set(n),new t};return n.realConstructor=t,n}var e=function r(e){var t=r.Utils.mix({},r.Base);r.Utils.chainObject(e,t);var i={prototype:e};if(e["extends"]){var s=document.createElement(e["extends"]);s.toString()=="[object HTMLUnknownElement]"&&console.warn("extends to HTMLUnknownElement"),r.Utils.chainObject(t,s.constructor.prototype),i["extends"]=e["extends"]}else r.Utils.chainObject(t,HTMLElement.prototype);r.Style.init(e);var o=document.registerElement(e.is,i);return n(o)};e.Components={},e.Loader={};var t=function i(t){e.Utils.mix(t,i.exports);var n=e(t);return i.exports={},n};t.exports={},window.Nova=e,window.NovaExports=t})(),Nova.CssParse=function(){function t(e){return e[0].selector.indexOf(r)>=0}function n(e){return e.replace(o.customProp,"").replace(o.mixinProp,"").replace(o.mixinApply,"").replace(o.varApply,"")}var e={parse:function(t){return t=this._clean(t),this._parseCss(this._lex(t),t)},_clean:function(t){return t.replace(o.comments,"").replace(o.port,"")},_lex:function(t){var n={start:0,end:t.length},r=n;for(var i=0,s=0,o=t.length;i<o;i++)switch(t[i]){case this.OPEN_BRACE:r.rules||(r.rules=[]);var u=r,a=u.rules[u.rules.length-1];r={start:i+1,parent:u,previous:a},u.rules.push(r);break;case this.CLOSE_BRACE:r.end=i+1,r=r.parent||n}return n},_parseCss:function(t,n){var u=n.substring(t.start,t.end-1);t.parsedCssText=t.cssText=u.trim();if(t.parent){var a=t.previous?t.previous.end:t.parent.start;u=n.substring(a,t.start-1),u=u.substring(u.lastIndexOf(";")+1);var f=t.parsedSelector=t.selector=u.trim();t.atRule=f.indexOf(s)===0,t.atRule?f.indexOf(i)===0?t.type=this.types.MEDIA_RULE:f.match(o.keyframesRule)&&(t.type=this.types.KEYFRAMES_RULE):f.indexOf(r)===0?t.type=this.types.MIXIN_RULE:t.type=this.types.STYLE_RULE}var l=t.rules;if(l)for(var c=0,h=l.length,p;c<h&&(p=l[c]);c++)this._parseCss(p,n);return t},stringify:function(r,i,s){s=s||"";var o="";if(r.cssText||r.rules){var u=r.rules;if(u&&(i||!t(u)))for(var a=0,f=u.length,l;a<f&&(l=u[a]);a++)o=this.stringify(l,i,o);else o=i?r.cssText:n(r.cssText),o=o.trim(),o&&(o="  "+o+"\n")}return o&&(r.selector&&(s+=r.selector+" "+this.OPEN_BRACE+"\n"),s+=o,r.selector&&(s+=this.CLOSE_BRACE+"\n\n")),s},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},OPEN_BRACE:"{",CLOSE_BRACE:"}"},r="--",i="@media",s="@",o={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^|[\s;])--[^;{]*?:[^{};]*?;/gim,mixinProp:/(?:^|[\s;])--[^;{]*?:[^{;]*?{[^}]*?};?/gim,mixinApply:/@apply[\s]*\([^)]*?\)[\s]*;/gim,varApply:/[^;:]*?:[^;]*var[^;]*;/gim,keyframesRule:/^@[^\s]*keyframes/};return e}(),function(){var e={_caseMap:{},dashToCamelCase:function(t){var n=this._caseMap[t];return n?n:t.indexOf("-")<0?this._caseMap[t]=t:this._caseMap[t]=t.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},camelToDashCase:function(t){var n=this._caseMap[t];return n?n:this._caseMap[t]=t.replace(/([a-z][A-Z])/g,function(e){return e[0]+"-"+e[1].toLowerCase()})}};Nova.CaseMap=e}(),function(){var e={mix:function(t,n,r){if(n&&n.constructor==Array){for(var i=0,s=n.length;i<s;i++)this.mix(t,n[i],r);return t}if(typeof r=="function")for(i in n)t[i]=r(t[i],n[i],i);else for(i in n)if(r||!(t[i]||i in t))t[i]=n[i];return t},chainObject:function(t,n){if(t&&n&&t!==n)if(!Object.__proto__)t=this.mix(Object.create(n),t,!0);else{var r=t;while(r.__proto__&&r.__proto__.__proto__)r=r.__proto__;r.__proto__=n}return t},tmpl:function(t,n,r){var i=!0;t.trim().match(/^{{.*}}$/)&&t.trim().match(/{{(.*?)}}/g).length==1&&(i=!1);var s;return t=t.replace(/\{\{(.*?)\}\}/g,function(e,t){if(!t)return"";try{return s=(new Function("data","with(data){return ("+t+");}"))(n),r?r(s,t):s}catch(i){return s=e,e}}),i?t:s},setPropByPath:function(t,n,r){var i=n.split("."),s=t;for(var o=0,u=i.length;o<u-1;o++){if(!s)return;s=s[i[o]]}s&&(s[i[i.length-1]]=r)},getPropByPath:function(t,n){var r=n.split("."),i=t;for(var s=0,o=r.length;s<o;s++)try{i=i[r[s]]}catch(u){return}return i}};Nova.Utils=e}(),function(){var e={set:function(t){Nova._initData=t},get:function(){return Nova._initData},clear:function(){delete Nova._initData},has:function(){return!!Nova._initData}};Nova.Initial=e}(),function(){Nova.Utils.mix(Nova,{ready:function(t,n){function s(){i==r&&n()}t.constructor!=Array&&(t=[t]);var r=t.length,i=0;t.forEach(function(e){e._nova&&e._nova.isReady?i++:e.addEventListener("nova.ready",function(){i++,s()})}),s()}})}(),function(){Nova.devOpt={umd:{baseUrl:"",root:"window"}}}(),function(){var e=undefined,t={init:function(t){if(!t.stylesheet||!t.stylesheet.trim())return;var n=t.stylesheet;n=this.compile(n,t.is),this.attach(n)},compile:function(t,n){var r=Nova.CssParse.parse(t),i=r.rules;return this.compileRules(i,n)},compileRules:function(t,n){var r=this,i="";return t.forEach(function(e){e.type==Nova.CssParse.types.STYLE_RULE&&function(){var t=e.selector;t=t.replace(/([+>]|::content|::shadow)/g,function(e){return" "+e+" "}).replace(/,/g," , "),t=t.split(/\s+/);var r="";t.every(function(e,i){if(e.indexOf(":host")>=0)r+=e.replace(":host",n)+" ";else if(e=="::content"||e=="::shadow"){if(i>0){for(var s=i+1;s<t.length;s++)r+=t[s]+" ";return!1}r+=e}else if("> + ,".split(" ").indexOf(e)>=0)r+=e+" ";else{var o=e.indexOf(":");o<0?r+=e+"."+n+" ":r+=e.slice(0,o)+"."+n+e.slice(o)+" "}return!0});var s=e.cssText;i+=r+"\n{\n"+s+"\n}\n"}();if(e.type==Nova.CssParse.types.KEYFRAMES_RULE){var t=e.selector,s=e.cssText;i+=t+"\n{\n"+s+"\n}\n"}if(e.type==Nova.CssParse.types.MEDIA_RULE){var t=e.selector,s=r.compileRules(e.rules||[],n);i+=t+"\n{\n"+s+"\n}\n"}}),i},attach:function(n){var r=document.head,i=document.createElement("style");i.innerHTML=n,e?r.insertBefore(i,e.nextSibling):r.insertBefore(i,r.firstChild),e=i}};Nova.Style=t}(),function(){function r(e,t){!this._eventListeners&&(this._eventListeners={}),!this._eventListeners[e]&&(this._eventListeners[e]=new Map);var n=this,r=this._eventListeners[e],i=r.get(t);return i||(i=function(e){var r=[e].concat(e.detail);t.apply(n,r)},r.set(t,i)),i}function i(e,t){if(!this._eventListeners||!this._eventListeners[e])return;var n=this._eventListeners[e],r=n.get(t);return n["delete"](t),r}if(!window.CustomEvent){var e=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:undefined};var r=document.createEvent("Events");return r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail,r};e.prototype=window.Event.prototype,window.CustomEvent=e}var t=" ",n={on:function(n,i,s){n=n.split(t);var o=undefined;while(o=n.shift()){var u=r.call(this,o,i);this.addEventListener(o,u,s)}},off:function(n,r,s){n=n.split(t);var o=undefined;while(o=n.shift()){var u=i.call(this,o,r);u&&this.removeEventListener(o,u,s)}},trigger:function(n,r){n=n.split(t);var i=undefined;while(i=n.shift()){var s=new CustomEvent(i,{detail:r});this.dispatchEvent(s)}}};Nova.EventBehavior=n}(),function(){function n(t,n,i){var s=n.split(e),o,u;while(o=s.shift()){u=this[o];if(!u||typeof u!="function")break;u._isAspected||r.call(this,o),this.on(t+":"+o,i)}}function r(e){var t=this[e],n,r,i=this;this[e]=function(){r=this.trigger("before:"+e,Array.prototype.slice.call(arguments));if(r===!1)return;return n=t.apply(this,arguments),this.trigger("after:"+e,Array.prototype.slice.call(arguments)),n},this[e]._isAspected=!0}var e=" ",t={before:function(t,r){return n.call(this,"before",t,r),this},after:function(t,r){return n.call(this,"after",t,r),this}};Nova.AspectBehavior=t}(),function(){function t(e,t){this.trigger.apply(this,arguments),this.trigger(this._propsCommonChangeEvent,t)}function n(){var e={},t=this.__proto__;this.__proto__=e,e.__proto__=t;for(var n in this.props)this.props.hasOwnProperty(n)&&(o.call(this,n),u.call(this,n,this.props[n]));this._nova.attrsToPropsMap=r.call(this);for(var n in this.props)this.props.hasOwnProperty(n)&&a.call(this,n,this.props[n])}function r(){var e=this,t={};return Array.prototype.slice.call(this.attributes||[]).forEach(function(n){if(n.constructor==Attr){var r=n.name,i=n.value,s=Nova.CaseMap.dashToCamelCase(r),o=s.indexOf(".")>=0,u=s.split(".")[0],a=e.props[u];if(e.hasProperty(u)){var f=t[u]||{};t[u]=f,o?(f.subProps=f.subProps||[],f.subProps.push({path:s,value:i})):Nova.Utils.mix(f,{path:s,value:l.call(e,r,i,a)})}}}),t}function i(e,t){var n=Nova.CaseMap.dashToCamelCase(e),r=n.split(".")[0],i=n.indexOf(".")>=0,s=this.props[r];i?this.set(n,t):this[r]=l.call(this,e,t,s)}function s(e){var t=this,n=Nova.CaseMap.camelToDashCase(e),r=this._nova.attrsToPropsMap[e];r.hasOwnProperty("value")?this[e]=r.value:function(){var n=f(t.props[e]);r.subProps.forEach(function(e){var t=e.path.replace(/^(.+)\./,"");Nova.Utils.setPropByPath(n,t,e.value)}),t[e]=n}()}function o(e){var t=this.props[e];this._propTypes.indexOf(t)>=0&&(this.props[e]={type:this.props[e]})}function u(e,n){var r=this,i="_prop_";Object.defineProperty(this.__proto__,e,{get:function(){return r[i+e]},set:function(s){var o=r[i+e];if(s==o||s!=s&&o!=o)return;r[i+e]=s,t.call(r,r._getPropChangeEventName(e),[o,s,e])}}),n.observer&&this.on(r._getPropChangeEventName(e),function(){r[n.observer]&&r[n.observer].apply(r,arguments)})}function a(e,t){var n=this[e],r=this.hasOwnProperty(e);delete this[e];var i=Nova.CaseMap.camelToDashCase(e);this._nova.attrsToPropsMap[e]?s.call(this,e):r?this[e]=n:this[e]=f(t)}function f(e){var t;return e.hasOwnProperty("value")&&(typeof e.value=="function"?t=e.value.apply(this):t=e.value),t}function l(e,t,n){var r=n.type;r!=String&&t&&(t=t.trim());var i=t;switch(r){case Object:case Array:try{i=JSON.parse(t)}catch(s){i=null,console.warn("Nova::Attributes: could not decode Array as JSON")}break;case Number:i=Number(t);break;case Date:i=new Date(t);break;case Boolean:return this.hasAttribute(e)&&t!="false"}return i}var e={props:function(){},_propTypes:[Object,Number,String,Boolean,Date,Array],_propsCommonChangeEvent:"_propsChanged",createdHandler:function(){this.beforePropsInit&&this.beforePropsInit(),this.props=Nova.Utils.mix({},[this.props]),n.call(this)},attributeChangedHandler:function(t,n,r){var s=Nova.CaseMap.dashToCamelCase(t),o=s.split(".")[0];this.hasProperty(o)&&i.call(this,t,r)},set:function(n,r,i){var s=n.split("."),o=this[s[0]],u=this.get(n);Nova.Utils.setPropByPath(this,n,r),(s.length!=1||this.get(n)==r)&&u!=r&&t.call(this,this._getPropChangeEventName(s[0]),[o,this[s[0]],n])},get:function(t){return Nova.Utils.getPropByPath(this,t)},addProperty:function(t,n){this.props[t]=n,u.call(this,t,n),a.call(this,t,n)},hasProperty:function(t){return!!this.props[t]},notifyPath:function(n){var r=n.split(",");t.call(this,this._getPropChangeEventName(r[0]),[this[r[0]],this[r[0]],n])},_getPropChangeEventName:function(t){return"_"+t+"Changed"}};Nova.PropBehavior=e}(),function(){Nova.ExpressionParser={BIND_TYPES:{TEXT:1,PROPERTY:2,ATTRIBUTE:3,EVENT:4},ANNOTATION_REGEXP:/{{.+?}}/g,SCOPED_ELEMENTS:["TEMPLATE-REPEAT-ITEM","TEMPLATE"],parse:function(t,n){var r=new Map;return this._parseNode(t,n,r),r},_parseNode:function(t,n,r){t.nodeType==Node.TEXT_NODE?this._parseTextNode(t,n,r):this._parseElementNode(t,n,r)},_parseTextNode:function(t,n,r){var i=t.textContent;if(!this._testEscape(i))return;var s=this,o=this._parseExpression(i);Nova.Utils.mix(o,[{type:this.BIND_TYPES.TEXT,scope:n}]),r.set(t,[o])},_parseElementNode:function(t,n,r){var i=this,s=[];Array.prototype.slice.call(t.attributes||[]).forEach(function(e){if(e.constructor==Attr&&i._testEscape(e.value)){var r=i._getTypeByAttrName(e.name),o={type:r,scope:n};switch(r){case i.BIND_TYPES.EVENT:o.event=Nova.CaseMap.dashToCamelCase(e.name.match(/^on-(.+)$/)[1]),o.callback=i._parseCallbackAnnotation(e.value);break;case i.BIND_TYPES.ATTRIBUTE:case i.BIND_TYPES.PROPERTY:o.name=r==i.BIND_TYPES.ATTRIBUTE?e.name.slice(0,-1):Nova.CaseMap.dashToCamelCase(e.name),Nova.Utils.mix(o,[i._parseExpression(e.value)])}t.removeAttribute(e.name),s.push(o)}}),s.length>0&&r.set(t,s),this.SCOPED_ELEMENTS.indexOf(t.tagName)<0&&t.childNodes&&Array.prototype.slice.call(t.childNodes).forEach(function(e){i._parseNode(e,n,r)})},_getTypeByAttrName:function(t){return t.match(/^on-(.+)$/)?this.BIND_TYPES.EVENT:t[t.length-1]=="_"?this.BIND_TYPES.ATTRIBUTE:this.BIND_TYPES.PROPERTY},_parseExpression:function(t){var n=this,r=[],i=undefined,s=undefined,o=[];return t.replace(this.ANNOTATION_REGEXP,function(e){r.push(n._parseAnnotation(e))}),/^{{\s*([_$a-zA-Z][\w_\$\d\[\].:]*)\s*}}$/.test(t.trim())&&(i=!0,s=r[0].event),r.forEach(function(e){!i&&e.event&&console.warn("Cannot bind to non left value"),e.relatedProps.forEach(function(e){o.indexOf(e)<0&&o.push(e)})}),{value:t,isLeftValue:i,event:s,relatedProps:o,annotations:r}},_parseAnnotation:function(t){var n=[],r=t.slice(2).slice(0,-2).trim().split("::"),i=r[0],s=r[1],o=undefined,u=i.replace(/"/g,"'").replace(/\\\'/g,"").replace(/'.*?'/g,"");return u.replace(/([_$a-zA-Z][\w_\$\d\[\].]*)/g,function(e,t){n.push({name:t.split(".")[0],path:t})}),{value:t,relatedProps:n,event:s}},_parseCallbackAnnotation:function(t){var n=t.match(/^{{([_$a-zA-Z][\w_\$\d]*)}}$/);return n?n[1]:undefined},_testEscape:function(t){return t.match(this.ANNOTATION_REGEXP)}}}(),function(){Nova.ExpressionEvaluator={compile:function(t){var n=this,r=t.annotations,i=t.scope,s=this.getTmplData(t,i),o=this.compileTmplString(t);return this.evaluate(o,s,t)},evaluate:function(t,n,r){return Nova.Utils.tmpl(t,n)},compileTmplString:function(t){var n=this;return t.tmplString||function(){var e=t.value;t.annotations.forEach(function(t){var r=n.compileAnnotationTmplString(t);e=e.replace(t.value,r)}),t.tmplString=e}(),t.tmplString},compileAnnotationTmplString:function(t){var n=this,r=t.value;return r=r.replace(/::.+?}}/g,"}}"),t.relatedProps.forEach(function(e){var t=e.path;r=r.replace(new RegExp(t,"g"),function(e){var n=t.replace(/\.(\d+)($|\.)/g,function(e,t,n){return"["+t+"]"+n});return n})}),r},getTmplData:function(t,n){var r={};return t.relatedProps.forEach(function(e){var t=n;while(t){if((t==n||t.enumerableAsParentScope)&&t.hasProperty(e.name)){r[e.name]=t[e.name];break}t=t._nova.parentScope}}),r}}}(),function(){function t(e,t){var r=this;if(t.type==Nova.ExpressionParser.BIND_TYPES.EVENT){var i=n.call(r,t.callback,!0);i&&a.call(i,e,t.event,t)}else{t.relatedProps.forEach(function(i){var s=n.call(r,i.name);s&&u.call(s,e,i.name,i.path,t),r._nova.binds.allBindings.push(t)});if(t.isLeftValue){var i=n.call(r,t.relatedProps[0].name);i&&t.event&&a.call(i,e,t.event,t),i&&t.type==Nova.ExpressionParser.BIND_TYPES.PROPERTY&&a.call(i,e,this._getPropChangeEventName(t.name),t)}}}function n(e,t){var n=this;while(n){if(n==this||n.enumerableAsParentScope){if(!t&&n.hasProperty(e))break;if(t&&typeof n[e]=="function")break}n=n._nova.parentScope}return n}function r(){this.on(this._propsCommonChangeEvent,s)}function i(){var e=document.createElement("div");return e.innerHTML=this.template,this.compileNodes(e),e}function s(e,t,n,r){o.call(this,r)}function o(e){var t=this,n=e?e.split(".")[0]:"",r=this._nova.binds.hostToChild[n];r&&r.forEach(function(n,r){n&&n.forEach(function(n){if(n.propPath.slice(0,e.length)==e){var i=Nova.ExpressionEvaluator.compile(n.bindObj);c.call(t,r,i,n.bindObj)}})})}function u(e,t,n,r){var i=this._nova.binds.hostToChild[t]||new Map;this._nova.binds.hostToChild[t]=i;var s=i.get(e)||[];i.set(e,s),s.push({propPath:n,bindObj:r})}function a(e,t,n){var r=this,i=this._nova.binds.childToHost.get(e)||{};this._nova.binds.childToHost.set(e,i);if(!i[t]){i[t]=[];var s=function(s){i[t].forEach(function(t){if(t.type==Nova.ExpressionParser.BIND_TYPES.EVENT){var n=[s].concat(s.detail||[]);r[t.callback].apply(r,n)}else h.call(r,e,t.relatedProps[0].path,t)})};e.addEventListener(t,s),i[t].callback=s}i[t].push(n)}function f(e){var t=this;for(var n in this._nova.binds.hostToChild){var r=this._nova.binds.hostToChild[n].get(e);r&&r.forEach(function(e){var n=t._nova.binds.allBindings.indexOf(e.bindObj);t._nova.binds.allBindings.splice(n,1)}),this._nova.binds.hostToChild[n]["delete"](e)}}function l(e){var t=this._nova.binds.childToHost.get(e);if(t){for(var n in t)t.hasOwnProperty(n)&&e.removeEventListener(n,t[n].callback);this._nova.binds.childToHost["delete"](e)}}function c(e,t,n){switch(n.type){case Nova.ExpressionParser.BIND_TYPES.ATTRIBUTE:e.getAttribute(n.name)!=t&&(e.setAttribute(n.name,t),t===!1&&e.removeAttribute(n.name));break;case Nova.ExpressionParser.BIND_TYPES.PROPERTY:e[n.name]!=t&&(e[n.name]=t);break;case Nova.ExpressionParser.BIND_TYPES.TEXT:e.textContent!=t&&(e.textContent=t)}}function h(e,t,n){var r=undefined;switch(n.type){case Nova.ExpressionParser.BIND_TYPES.PROPERTY:r=e[n.name];break;case Nova.ExpressionParser.BIND_TYPES.ATTRIBUTE:r=e.getAttribute(n.name)}this.set(t,r)}function p(e){var t=this,n=Array.prototype.slice.call(e.querySelectorAll("content"));n.forEach(function(e){var n=e.getAttribute("select"),r=undefined;r=Array.prototype.slice.call((n?t.querySelectorAll(n):t.childNodes)||[]),r.forEach(function(r){(Array.prototype.slice.call(t.children).indexOf(r)>=0||!n)&&e.parentElement.insertBefore(r,e)}),e.parentElement.removeChild(e)})}function d(e){var t=this,n=this;while(n){if(Nova.ExpressionParser.SCOPED_ELEMENTS.indexOf(n.tagName)<0){if(!e.className||e.className.indexOf(n.is)<0)e.className+=" "+n.is;e.hasAttribute&&e.hasAttribute("class_")&&e.setAttribute("class_",e.getAttribute("class_")+" "+n.is)}n=n._nova.parentScope}e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach(function(e){d.call(t,e)})}function v(e){var t=Array.prototype.slice.call(e.childNodes);for(var n=0;n<t.length;n++)this.appendChild(t[n])}var e={host:null,parentScope:null,enumerableAsParentScope:!0,createdHandler:function(){this.beforeTemplateInit&&this.beforeTemplateInit();if(!this.template)return;var t=this;this._nova.binds={hostToChild:{},childToHost:new Map,allBindings:[]},r.call(t);var n=i.call(this);p.call(this,n),v.call(this,n),this.updateTemplate()},compileNodes:function(t){d.call(this,t),this.bindNodes(t)},bindNodeByConfigs:function(n,r){var i=this;r.forEach(function(e){var r=Nova.Utils.mix({},[e,{scope:i}]);switch(r.type){case Nova.ExpressionParser.BIND_TYPES.ATTRIBUTE:case Nova.ExpressionParser.BIND_TYPES.PROPERTY:Nova.Utils.mix(r,[Nova.ExpressionParser._parseExpression(r.value)],!0)}t.call(i,n,r)}),n._nova=n._nova||{},n._nova.host=i,Nova.ExpressionParser.SCOPED_ELEMENTS.indexOf(n.tagName)>=0&&(n._nova.parentScope=n._nova.host)},bindNodes:function(n){var r=this,i=Nova.ExpressionParser.parse(n,this);i.forEach(function(e,n){e.forEach(function(e){t.call(r,n,e)}),n._nova=n._nova||{},n._nova.host=r,Nova.ExpressionParser.SCOPED_ELEMENTS.indexOf(n.tagName)>=0&&(n._nova.parentScope=n._nova.host)})},unbindNodes:function(t){var n=this;f.call(n,t),l.call(n,t),t.childNodes&&Array.prototype.slice.call(t.childNodes).forEach(function(e){n.unbindNodes(e)})},updateTemplate:function(t){var r=this;t?t.constructor!=Array&&(t=[t]):(t=[],this._nova.binds.allBindings.forEach(function(e){e.relatedProps.forEach(function(e){var n=undefined;for(var r=0,i=t.length;r<i;r++)e.path.indexOf(t[r])==0&&(!e.path[t[r]]||e.prop[t[r]]==".")&&(n=!0);!n&&t.push(e.path)})})),t.forEach(function(e){var t=n.call(r,e.split(".")[0]);t&&o.call(t,e)})}};Nova.TemplateBehavior=e}(),function(){var e={createdHandler:function(){this.removeAttribute("unresolved")}};Nova.StyleBehavior=e}(),console.log("nova"),function(){var e=Nova.Utils,t=!0,n=[],r={_behaviors:[Nova.EventBehavior,Nova.AspectBehavior,Nova.PropBehavior,Nova.TemplateBehavior,Nova.StyleBehavior],behaviors:[],props:{},createdCallback:function(){var t=this;t._nova=t._nova||{},t._initBehaviors(),this._waitForParentBehaviorsReady(function(){n.push(t),t._initInitialData(),t.trigger("nova.behaviors.created"),t._nova.isBehaviorsReady=!0,n.pop(),t.trigger("nova.behaviors.ready"),t.createdHandler&&t.createdHandler(),t.trigger("nova.ready"),t._nova.isReady=!0})},attachedCallback:function(){var t=this;this._waitForParentBehaviorsReady(function(){t.trigger("nova.behaviors.attached"),t.attachedHandler&&t.attachedHandler()})},detachedCallback:function(){var t=this;this._waitForParentBehaviorsReady(function(){t.trigger("nova.behaviors.detached"),t.detachedHandler&&t.detachedHandler()})},attributeChangedCallback:function(t,n,r){var i=this;this._nova.isBehaviorsReady&&(i.trigger("nova.behaviors.attributeChanged",[t,n,r]),i.attributeChangedHandler&&i.attributeChangedHandler(t,n,r))},_waitForParentBehaviorsReady:function(t){var r=n[n.length-1];!r||r._nova.isBehaviorsReady?t():function(){var e=function n(){r.off("nova.behaviors.ready",n),t()};r.on("nova.behaviors.ready",e)}()},_initInitialData:function(){var t=Nova.Initial.get();Nova.Initial.clear();if(!t)return;if(t.attrs)for(var n in t.attrs)this.setAttribute(n,t.attrs[n]);if(t.props)for(var r in t.props)this[r]=t.props[r];t.beforeCreated&&t.beforeCreated.call(this)},_initBehaviors:function(){var n=this,r=n._behaviors.concat(n.behaviors);r.forEach(function(e,t){if(typeof e=="function"){var n=e.realConstructor.prototype,i={};r[t]=i;for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);(n.behaviors||[]).forEach(function(e,n){r.splice(t+1+n,0,e)})}}),r.forEach(function(t){var r=e.mix({},t);"createdHandler attachedHandler detachedHandler attributeChangedHandler".split(" ").forEach(function(e){delete r[e]}),e.mix(n,r),e.mix(n.props,r.props)}),this.on("nova.behaviors.created nova.behaviors.attached nova.behaviors.detached nova.behaviors.attributeChanged",function(e){var t=arguments,i=e.type.match(/nova\.behaviors\.(.+)$/)[1];r.forEach(function(e){var r=e[i+"Handler"];r&&r.apply(n,Array.prototype.slice.call(t,1))})})},_getPrivateProp:function(t){if(!this._nova)return;return this._nova[t]},_setPrivateProp:function(t,n){this._nova||(this._nova={}),this._nova[t]=n}};Nova.Base=r}(),undefined,NovaExports.__fixedUglify="script>",NovaExports.exports={stylesheet:":host{display:none}",template:"\n    "},Nova.Components.TemplateRepeat=NovaExports({is:"template-repeat","extends":"template",enumerableAsParentScope:!1,props:{items:{type:Array,value:function(){return[]}}},createdHandler:function(){var t=this;this.as=this.getAttribute("as")||"item",this.indexAs=this.getAttribute("index-as")||"index";var n=this.getAttribute("parent-selector");this.insertParent=n?this.parentElement.querySelector(n):this.parentElement,this.insertNextSibling=this.nextSibling,setTimeout(function(){t.parentElement&&t.parentElement.removeChild(t)},0),this.on("_itemsChanged",this._itemsObserver),this.notifyPath("items")},_itemsObserver:function(t,n,r,i){if(i!="items"||!r||r.constructor!=Array)return;this.itemNodes=this.itemNodes||[];for(var s=this.itemNodes.length-1;s>=0;s--)this.removeItem(s);for(var s=0,o=r.length;s<o;s++)this.appendItem(s)},appendItem:function(t){var n=this,r=new Nova.Components.TemplateRepeatItem({props:{as:this.as,indexAs:this.indexAs,index:t,item:n.items[t],template:this.innerHTML,insertParent:this.insertParent,insertNextSibling:this.insertNextSibling},beforeCreated:function(){n.compileNodes(this),n.bindNodeByConfigs(this,[{type:Nova.ExpressionParser.BIND_TYPES.PROPERTY,value:"{{items."+t+"}}",name:n.as},{type:Nova.ExpressionParser.BIND_TYPES.EVENT,callback:"itemChangedHandler",event:n._getPropChangeEventName(n.as)}])}});this.itemNodes.push(r)},removeItem:function(t){var n=this,r=this.itemNodes.splice(t,1)[0];r._childNodes.forEach(function(e){e.parentElement&&e.parentElement.removeChild(e),n.unbindNodes(r)})},itemChangedHandler:function(t,n,r,i,s){this.trigger("itemChanged",n,r,i,s)}}),undefined,NovaExports.__fixedUglify="script>",NovaExports.exports={},Nova.Components.TemplateIf=NovaExports({is:"template-if",props:{"if":{type:Boolean}},createdHandler:function(){var t=this;this.insertParent=this.parentSelector?this.parentElement.querySelector(this.parentSelector):this.parentElement,this.insertNextSibling=this.nextSibling,this.nodes=Array.prototype.slice.call(this.childNodes),setTimeout(function(){t.parentElement&&t.parentElement.removeChild(t)},0),this.on("_ifChanged",this._ifObserver),this.trigger("_ifChanged",[this["if"],this["if"]])},_ifObserver:function(t,n,r){var i=this;r?this.nodes.forEach(function(e){i.append(e)}):this.nodes.forEach(function(e){e.parentElement==i.insertParent&&i.insertParent.removeChild(e)})},append:function(t){this.insertNextSibling&&this.insertNextSibling.parentElement==this.insertParent?this.insertParent.insertBefore(t,this.insertNextSibling):this.insertParent.appendChild(t)}}),undefined,NovaExports.__fixedUglify="script>",NovaExports.exports={template:"\n        <content></content>\n    "},Nova.Components.TemplateRepeatItem=NovaExports({is:"template-repeat-item",props:{},beforeTemplateInit:function(){var t=this;this[this.as]=this.item,this.addProperty(this.as,{type:null,value:this.item}),this[this.indexAs]=this.index,this.addProperty(this.indexAs,{type:null,value:this.index})},createdHandler:function(){var t=this;this._childNodes=Array.prototype.slice.call(this.childNodes),t._childNodes.forEach(function(e){t.compileNodes(e),t.append(e)})},append:function(t){this.insertNextSibling&&this.insertNextSibling.parentElement==this.insertParent?this.insertParent.insertBefore(t,this.insertNextSibling):this.insertParent.appendChild(t)}});